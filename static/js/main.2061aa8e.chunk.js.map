{"version":3,"sources":["components/Header.js","components/Card.js","contexts/CurrentUserContext.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","utils/utils.js","components/App.js","serviceWorker.js","index.js","images/logo.svg","images/userpic.png"],"names":["Header","className","href","src","logo","alt","Card","card","onCardClick","onCardLike","onCardDelete","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","onClick","type","likes","length","CurrentUserContext","React","createContext","Main","cards","onEditProfile","onAddPlace","onEditAvatar","useContext","avatar","about","_id","defaultAvatar","map","isOwn","owner","isLiked","some","i","key","Footer","PopupWithForm","isOpen","onClose","onSubmit","children","noValidate","method","action","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","currentUser","useEffect","evt","preventDefault","value","onChange","input","target","id","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","AvatarLinkRef","useRef","current","ref","AddPlacePopup","placeTitleRef","placeLinkRef","ImagePopup","selectedCard","api","token","url","this","_token","_url","res","ok","json","Promise","reject","status","error","console","message","fetch","headers","authorization","then","_handleResponse","catch","_handleError","body","JSON","stringify","bio","data","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setImagePopupOpen","setSelectedCard","setCurrentUser","setCards","closeAllPopups","setTimeout","all","getUserInfo","getInitialCards","user","Provider","setUserInfo","createCard","setAvatar","handleResponseLike","newCard","newCards","item","dislikeCard","likeCard","deleteCard","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.2061aa8e.chunk.js","sourcesContent":["import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return(\r\n    <header className=\"header\">\r\n      <a href=\"/\"><img src={logo} alt=\"Логотип Место\" className=\"header__logo\" /></a>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete, cardDeleteButtonClassName, cardLikeButtonClassName}) {\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n  function handleLike() {\r\n    onCardLike(card)\r\n  }\r\n  function handleDelete() {\r\n    onCardDelete(card)\r\n  }\r\n\r\n  return (\r\n    <div className=\"elements__card\">\r\n      <img src={card.link} alt={card.name} className=\"elements__photo\" onClick={handleClick} />\r\n      <div className=\"elements__container\">\r\n        <p className=\"elements__title\">{card.name}</p>\r\n        <div className=\"elements__like-container\">\r\n          <button type=\"button\" onClick={handleLike} className={cardLikeButtonClassName}/>\r\n          <p className=\"elements__counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n      <button type=\"button\" onClick={handleDelete} className={`elements__trash-bin ${cardDeleteButtonClassName}`} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext()","import React from 'react';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport defaultAvatar from '../images/userpic.png'\r\n\r\nfunction Main({cards, onEditProfile, onAddPlace, onEditAvatar, onCardClick, onCardLike, onCardDelete}) {\r\n  const {avatar, name, about, _id} = React.useContext(CurrentUserContext);\r\n\r\n  return(\r\n    <>\r\n      <section className=\"profile\">\r\n        <button className=\"profile__button-avatar\" onClick={onEditAvatar}>\r\n          <img src={avatar ? avatar : defaultAvatar} alt=\"Ваш аватар\" className=\"profile__avatar\" />\r\n        </button>\r\n\r\n        <div className=\"profile__name-container\">\r\n          <h1 className=\"profile__name\">{name ? name : 'Имя'}</h1>\r\n          <button type=\"button\" className=\"profile__button-edit\" onClick={onEditProfile}/>\r\n        </div>\r\n        <p className=\"profile__bio\">{about ? about : 'Информация'}</p>\r\n        <button type=\"button\" className=\"profile__button-add\" onClick={onAddPlace}/>\r\n      </section>\r\n      <main className=\"elements\">\r\n        {cards.map((card) => {\r\n            const isOwn = card.owner._id === _id;\r\n            const cardDeleteButtonClassName = `elements__trash-bin ${isOwn ? 'elements__trash-bin_visible' : 'elements__trash-bin_hidden'}`;\r\n            const isLiked = card.likes.some(i => i._id === _id);\r\n            const cardLikeButtonClassName = `elements__like ${isLiked ? 'elements__like_active' : 'elements__like'}`;\r\n          return(\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              cardDeleteButtonClassName={cardDeleteButtonClassName}\r\n              cardLikeButtonClassName={cardLikeButtonClassName}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          )\r\n        }\r\n        )}\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return(\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">\r\n        © 2020 Mesto Russia\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm({name, isOpen, onClose, onSubmit, children}) {\r\n  return(\r\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_visibility_visible' : ''}`}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__exit\" onClick={onClose}/>\r\n        <form noValidate onSubmit={onSubmit} name={name} method=\"post\" action=\"#\">\r\n          {children}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleNameChange(input) {\r\n    setName(input.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(input) {\r\n    setDescription(input.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({name, about: description});\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"bio\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__input-container popup__form popup__form_type_two-inputs\">\r\n        <h2 className=\"popup__title\">Редактировать профиль</h2>\r\n        <input\r\n          name=\"name\"\r\n          value={name}\r\n          onChange={handleNameChange}\r\n          id=\"name-input\"\r\n          type=\"text\"\r\n          placeholder=\"Введите Ваше имя\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          className=\"popup__input popup__input_name\"\r\n        />\r\n        <span id=\"name-input-error\" className=\"popup__error\"/>\r\n        <input\r\n          name=\"bio\"\r\n          value={description}\r\n          onChange={handleDescriptionChange}\r\n          id=\"bio-input\"\r\n          type=\"text\"\r\n          placeholder=\"Расскажите о себе\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          className=\"popup__input popup__input_bio\" />\r\n        <span id=\"bio-input-error\" className=\"popup__error\"/>\r\n        <button type=\"submit\" className=\"popup__save\">Сохранить</button>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n  const AvatarLinkRef = React.useRef()\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: AvatarLinkRef.current.value\r\n    });\r\n  }\r\n\r\n  return(\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__input-container popup__form popup__form_type_one-input\">\r\n        <h2 className=\"popup__title\">Обновить аватар</h2>\r\n        <input\r\n          name=\"avatar\"\r\n          ref={AvatarLinkRef}\r\n          id=\"avatar-input\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          className=\"popup__input popup__input_link\"\r\n        />\r\n        <span id=\"avatar-input-error\" className=\"popup__error\"/>\r\n        <button type=\"submit\" className=\"popup__save\">Сохранить</button>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\r\n  const placeTitleRef = React.useRef()\r\n  const placeLinkRef = React.useRef()\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({\r\n      name: placeTitleRef.current.value,\r\n      link: placeLinkRef.current.value\r\n    });\r\n\r\n  }\r\n\r\n  return(\r\n    <PopupWithForm\r\n      name=\"card\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__input-container popup__form popup__form_type_two-inputs\">\r\n        <h2 className=\"popup__title\">Новое место</h2>\r\n        <input\r\n          name=\"name\"\r\n          ref={placeTitleRef}\r\n          id=\"title-input\"\r\n          type=\"text\"\r\n          placeholder=\"Название\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          className=\"popup__input popup__input_title\"\r\n        />\r\n        <span id=\"title-input-error\" className=\"popup__error\"/>\r\n        <input\r\n          name=\"link\"\r\n          ref={placeLinkRef}\r\n          id=\"link-input\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          className=\"popup__input popup__input_link\"\r\n        />\r\n        <span id=\"link-input-error\" className=\"popup__error\"/>\r\n        <button type=\"submit\" className=\"popup__save\">Сохранить</button>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup({isOpen, onClose, selectedCard}) {\r\n  return(\r\n    <div className={`popup popup_type_max-photo ${isOpen ? 'popup_visibility_visible' : ''}`}>\r\n      <div className=\"popup__container popup__container_type_photo\">\r\n        <button type=\"button\" className=\"popup__exit\" onClick={onClose}/>\r\n        <img src={selectedCard ? selectedCard.link : ''} alt={selectedCard.name} className=\"popup__photo\" />\r\n        <h2 className=\"popup__photo-title\">{selectedCard.name}</h2>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","import {identity} from './utils'\r\n\r\nclass Api {\r\n  constructor({token, url}) {\r\n    this._token = token;\r\n    this._url = url;\r\n  }\r\n\r\n// response handlers\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) {        \r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(`Oops! Error: ${res.status}`);\r\n    }\r\n  }  \r\n\r\n  _handleError(error) {\r\n    console.error(error);\r\n    return Promise.reject(error.message)\r\n  }\r\n\r\n// cards\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, { \r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      } \r\n    })\r\n    .then(this._handleResponse)\r\n    .catch(this._handleError)\r\n  }\r\n\r\n  createCard(name, link) {\r\n    return fetch(`${this._url}/cards`, {      \r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n      }),\r\n      method: 'POST'\r\n    })\r\n      .then(this._handleResponse)\r\n      .catch(this._handleError)\r\n  } \r\n\r\n  deleteCard(id) {\r\n    return fetch((`${this._url}/cards/${id}`), {\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      method: 'DELETE'\r\n    })\r\n      .then(this._handleResponse)\r\n      .catch(this._handleError)\r\n  }\r\n\r\n  likeCard(id) {\r\n    return fetch((`${this._url}/cards/likes/${id}`), {      \r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      method: 'PUT'\r\n    })\r\n    .then(this._handleResponse)\r\n    .catch(this._handleError)\r\n  }\r\n\r\n  dislikeCard(id) {\r\n    return fetch((`${this._url}/cards/likes/${id}`), {      \r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      method: 'DELETE'\r\n    })\r\n    .then(this._handleResponse)\r\n    .catch(this._handleError)\r\n  }\r\n\r\n// user info\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(this._handleResponse)\r\n    .catch(this._handleError)\r\n  }\r\n\r\n  setUserInfo (name, bio) {\r\n    return fetch(`${this._url}/users/me`, {        \r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          name: name,\r\n          about: bio\r\n        }),\r\n        method: 'PATCH'\r\n      }\r\n    )\r\n    .then(this._handleResponse)\r\n    .catch(this._handleError)\r\n  }\r\n\r\n  setAvatar(data) {\r\n    return fetch((`${this._url}/users/me/avatar`), {\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data),\r\n      method: 'PATCH'\r\n    })\r\n    .then(this._handleResponse)\r\n    .catch(this._handleError)\r\n  }\r\n}\r\nexport const api = new Api(identity);","//identity\r\nexport const identity = {\r\n    token: '4f12e696-6331-47e4-913f-e0c0002ac61f',\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-13',\r\n    id: '13b75ba77788c0a719630101',\r\n}\r\n\r\n","import React from 'react';\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport ImagePopup from './ImagePopup';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport {api} from \"../utils/api\";\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  // const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState('');\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards);\n      })\n  },[])\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n    function handleCardClick(card) {\n    setSelectedCard(card);\n    setImagePopupOpen(true);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\n\n    function handleResponseLike(newCard) {\n      const newCards = cards.map((item) => item._id === card._id ? newCard : item);\n      setCards(newCards);\n    }\n\n    if (isLiked) {\n      api.dislikeCard(card._id)\n        .then(handleResponseLike)\n    } else {\n      api.likeCard(card._id)\n        .then(handleResponseLike)\n    }\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(()=>{\n        const newCards = cards.filter((item)=>{\n          return item !== card\n        });\n        setCards(newCards);\n      })\n  }\n\n  function handleUpdateUser({name, about}) {\n    api.setUserInfo(name, about)\n      .then((res)=>{\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.setAvatar(avatar)\n      .then((res)=>{\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n  }\n\n  function handleAddPlaceSubmit({name, link}) {\n    api.createCard(name, link)\n      .then((res)=>{\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n  }\n\n  function closeAllPopups () {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setImagePopupOpen(false);\n    setTimeout(function () {setSelectedCard('')}, 200);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n\n        {/*BIOGRAPHY POPUP*/}\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        {/*CARD POPUP*/}\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        {/*CHANGE AVATAR POPUP*/}\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        {/*/!*DELETE CARD POPUP*!/*/}\n\n        {/*<PopupWithForm*/}\n        {/*  name=\"delete\"*/}\n        {/*  isOpen=\"\"*/}\n        {/*  onClose={closeAllPopups}*/}\n        {/*>*/}\n        {/*  <fieldset className=\"popup__input-container popup__form popup__form_type_no-input\">*/}\n        {/*    <h2 className=\"popup__title\">Вы уверены?</h2>*/}\n        {/*    <button type=\"submit\" className=\"popup__save\">Да</button>*/}\n        {/*  </fieldset>*/}\n        {/*</PopupWithForm>*/}\n\n        {/*PHOTO POPUP*/}\n\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n          selectedCard={selectedCard}\n        />\n\n        {/*HEADER*/}\n\n        <Header />\n\n        {/*PROFILE and ELEMENTS*/}\n\n          <Main\n            cards={cards}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n\n        {/*FOOTER*/}\n        \n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.2b1f7ee5.svg\";","module.exports = __webpack_public_path__ + \"static/media/userpic.c3b119f7.png\";"],"sourceRoot":""}